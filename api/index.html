
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A comprehensive documentation of how the code should be utilized.">
      
      
        <meta name="author" content="Your Name">
      
      
      
        <link rel="prev" href="../etl/">
      
      
        <link rel="next" href="../app/">
      
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>üåê API Overview - Documentation for the A/B Testing Project</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="mint">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Documentation for the A/B Testing Project" class="md-header__button md-logo" aria-label="Documentation for the A/B Testing Project" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation for the A/B Testing Project
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              üåê API Overview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="mint"  aria-label="Toggle dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Toggle dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5 1.43 1.43L4.93 20.5 3.5 19.07zm-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13zm-3.3 3.61-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87zM19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58 2.77-1.15-.24 3.35zm4.33-2.7 1.15-2.77 2.2 2.54zm1.15-4.96-1.14-2.78 3.34.24zM9.63 18.93l2.77 1.15-2.53 2.19z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="lavender" data-md-color-accent="peach"  aria-label="Toggle light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Toggle light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.5 2c-1.79 1.15-3 3.18-3 5.5s1.21 4.35 3.03 5.5C4.46 13 2 10.54 2 7.5A5.5 5.5 0 0 1 7.5 2m11.57 1.5 1.43 1.43L4.93 20.5 3.5 19.07zm-6.18 2.43L11.41 5 9.97 6l.42-1.7L9 3.24l1.75-.12.58-1.65L12 3.1l1.73.03-1.35 1.13zm-3.3 3.61-1.16-.73-1.12.78.34-1.32-1.09-.83 1.36-.09.45-1.29.51 1.27 1.36.03-1.05.87zM19 13.5a5.5 5.5 0 0 1-5.5 5.5c-1.22 0-2.35-.4-3.26-1.07l7.69-7.69c.67.91 1.07 2.04 1.07 3.26m-4.4 6.58 2.77-1.15-.24 3.35zm4.33-2.7 1.15-2.77 2.2 2.54zm1.15-4.96-1.14-2.78 3.34.24zM9.63 18.93l2.77 1.15-2.53 2.19z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  üè† Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../etl/" class="md-tabs__link">
        
  
    
  
  üí° ETL Process

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  üåê API Overview

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../app/" class="md-tabs__link">
        
  
    
  
  üì± Application

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../ds/" class="md-tabs__link">
        
  
    
  
  üîç DS

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Documentation for the A/B Testing Project" class="md-nav__button md-logo" aria-label="Documentation for the A/B Testing Project" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    Documentation for the A/B Testing Project
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üè† Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../etl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üí° ETL Process
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    üåê API Overview
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    üåê API Overview
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api" class="md-nav__link">
    <span class="md-ellipsis">
      API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#database-connection" class="md-nav__link">
    <span class="md-ellipsis">
      Database Connection
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.database1" class="md-nav__link">
    <span class="md-ellipsis">
      database1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.database1.get_db" class="md-nav__link">
    <span class="md-ellipsis">
      get_db
    </span>
  </a>
  
    <nav class="md-nav" aria-label="get_db">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    <span class="md-ellipsis">
      Models
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1" class="md-nav__link">
    <span class="md-ellipsis">
      models1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1.ABTest" class="md-nav__link">
    <span class="md-ellipsis">
      ABTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1.ABTestResult" class="md-nav__link">
    <span class="md-ellipsis">
      ABTestResult
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1.Customer" class="md-nav__link">
    <span class="md-ellipsis">
      Customer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1.CustomerSegment" class="md-nav__link">
    <span class="md-ellipsis">
      CustomerSegment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1.Engagement" class="md-nav__link">
    <span class="md-ellipsis">
      Engagement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1.Experiment" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1.Movie" class="md-nav__link">
    <span class="md-ellipsis">
      Movie
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1.Segment" class="md-nav__link">
    <span class="md-ellipsis">
      Segment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.models1.Subscription" class="md-nav__link">
    <span class="md-ellipsis">
      Subscription
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Subscription">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Schemas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1" class="md-nav__link">
    <span class="md-ellipsis">
      schema1
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.ABTest" class="md-nav__link">
    <span class="md-ellipsis">
      ABTest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.ABTestCreate" class="md-nav__link">
    <span class="md-ellipsis">
      ABTestCreate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.ABTestResult" class="md-nav__link">
    <span class="md-ellipsis">
      ABTestResult
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.ABTestResultCreate" class="md-nav__link">
    <span class="md-ellipsis">
      ABTestResultCreate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.BaseSchema" class="md-nav__link">
    <span class="md-ellipsis">
      BaseSchema
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.Customer" class="md-nav__link">
    <span class="md-ellipsis">
      Customer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.CustomerCreate" class="md-nav__link">
    <span class="md-ellipsis">
      CustomerCreate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.CustomerSegment" class="md-nav__link">
    <span class="md-ellipsis">
      CustomerSegment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.CustomerSegmentCreate" class="md-nav__link">
    <span class="md-ellipsis">
      CustomerSegmentCreate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.EmailRequest" class="md-nav__link">
    <span class="md-ellipsis">
      EmailRequest
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.Engagement" class="md-nav__link">
    <span class="md-ellipsis">
      Engagement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.EngagementCreate" class="md-nav__link">
    <span class="md-ellipsis">
      EngagementCreate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.Experiment" class="md-nav__link">
    <span class="md-ellipsis">
      Experiment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.ExperimentCreate" class="md-nav__link">
    <span class="md-ellipsis">
      ExperimentCreate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.Movie" class="md-nav__link">
    <span class="md-ellipsis">
      Movie
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.MovieCreate" class="md-nav__link">
    <span class="md-ellipsis">
      MovieCreate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.Segment" class="md-nav__link">
    <span class="md-ellipsis">
      Segment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.SegmentCreate" class="md-nav__link">
    <span class="md-ellipsis">
      SegmentCreate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.Subscription" class="md-nav__link">
    <span class="md-ellipsis">
      Subscription
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.schema1.SubscriptionCreate" class="md-nav__link">
    <span class="md-ellipsis">
      SubscriptionCreate
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SubscriptionCreate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-api-logic" class="md-nav__link">
    <span class="md-ellipsis">
      Main API Logic
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main" class="md-nav__link">
    <span class="md-ellipsis">
      main
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.create_ab_test" class="md-nav__link">
    <span class="md-ellipsis">
      create_ab_test
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.create_ab_test_result" class="md-nav__link">
    <span class="md-ellipsis">
      create_ab_test_result
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.create_customer" class="md-nav__link">
    <span class="md-ellipsis">
      create_customer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.create_customer_segment" class="md-nav__link">
    <span class="md-ellipsis">
      create_customer_segment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.create_engagement" class="md-nav__link">
    <span class="md-ellipsis">
      create_engagement
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.create_movie" class="md-nav__link">
    <span class="md-ellipsis">
      create_movie
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.create_segment" class="md-nav__link">
    <span class="md-ellipsis">
      create_segment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.create_subscription" class="md-nav__link">
    <span class="md-ellipsis">
      create_subscription
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.get_db" class="md-nav__link">
    <span class="md-ellipsis">
      get_db
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.read_ab_test_results" class="md-nav__link">
    <span class="md-ellipsis">
      read_ab_test_results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.read_ab_tests" class="md-nav__link">
    <span class="md-ellipsis">
      read_ab_tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.read_customer_segments" class="md-nav__link">
    <span class="md-ellipsis">
      read_customer_segments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.read_customers" class="md-nav__link">
    <span class="md-ellipsis">
      read_customers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.read_engagements" class="md-nav__link">
    <span class="md-ellipsis">
      read_engagements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.read_movies" class="md-nav__link">
    <span class="md-ellipsis">
      read_movies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.read_root" class="md-nav__link">
    <span class="md-ellipsis">
      read_root
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.read_segments" class="md-nav__link">
    <span class="md-ellipsis">
      read_segments
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.read_subscriptions" class="md-nav__link">
    <span class="md-ellipsis">
      read_subscriptions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.send_emails" class="md-nav__link">
    <span class="md-ellipsis">
      send_emails
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.test_send_email" class="md-nav__link">
    <span class="md-ellipsis">
      test_send_email
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.main.track_click" class="md-nav__link">
    <span class="md-ellipsis">
      track_click
    </span>
  </a>
  
    <nav class="md-nav" aria-label="track_click">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#email-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Email Utilities
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.email_utils" class="md-nav__link">
    <span class="md-ellipsis">
      email_utils
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.email_utils.generate_click_token" class="md-nav__link">
    <span class="md-ellipsis">
      generate_click_token
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications.back.email_utils.send_email" class="md-nav__link">
    <span class="md-ellipsis">
      send_email
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üì± Application
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    üîç DS
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>üåê API Overview</h1>

<h2 id="api">API</h2>
<h3 id="database-connection">Database Connection</h3>


<div class="doc doc-object doc-module">



<a id="applications.back.database1"></a>
    <div class="doc doc-contents first">

        <p>Database Configuration</p>








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="applications.back.database1.get_db" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_db</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Function to get a database session.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/database1.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_db</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Function to get a database session.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">SessionLocal</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">db</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="models">Models</h3>


<div class="doc doc-object doc-module">



<a id="applications.back.models1"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="applications.back.models1.ABTest" class="doc doc-heading">
            <code>ABTest</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="database1.Base">Base</span></code></p>


        <p>Represents an A/B testing experiment.</p>
<p><strong>Attributes:</strong>
- <code>ab_test_id (int)</code>: Primary key for the A/B test.
- <code>goal (str)</code>: Objective of the test ('Engagement' or 'Subscription').
- <code>targeting (str)</code>: Focus of the test ('genre', 'movie', or 'package').
- <code>test_variant (int)</code>: Identifier for the test variant (A or B).
- <code>text_skeleton (str)</code>: Template text used in the test.
- <code>results (relationship)</code>: Association with the <code>ABTestResult</code> model, linking this test to its results.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/models1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ABTest</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an A/B testing experiment.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `ab_test_id (int)`: Primary key for the A/B test.</span>
<span class="sd">    - `goal (str)`: Objective of the test (&#39;Engagement&#39; or &#39;Subscription&#39;).</span>
<span class="sd">    - `targeting (str)`: Focus of the test (&#39;genre&#39;, &#39;movie&#39;, or &#39;package&#39;).</span>
<span class="sd">    - `test_variant (int)`: Identifier for the test variant (A or B).</span>
<span class="sd">    - `text_skeleton (str)`: Template text used in the test.</span>
<span class="sd">    - `results (relationship)`: Association with the `ABTestResult` model, linking this test to its results.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;ab_tests&quot;</span>
    <span class="n">ab_test_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">goal</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># &#39;Engagement&#39; or &#39;Subscription&#39;</span>
    <span class="n">targeting</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># &#39;genre&#39;, &#39;movie&#39;, or &#39;package&#39;</span>
    <span class="n">test_variant</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>  <span class="c1"># A/B Test variant identifier</span>
    <span class="n">text_skeleton</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Text</span><span class="p">)</span>  <span class="c1"># Text template used in the A/B Test</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;ABTestResult&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;ab_test&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.models1.ABTestResult" class="doc doc-heading">
            <code>ABTestResult</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="database1.Base">Base</span></code></p>


        <p>Represents the results of an A/B test for a specific customer.</p>
<p><strong>Attributes:</strong>
- <code>result_id (int)</code>: Primary key for this result.
- <code>ab_test_id (int)</code>: Foreign key linking to the <code>ABTest</code> model.
- <code>experiment_id (int)</code>: Foreign key linking to the <code>Experiment</code> model.
- <code>customer_id (int)</code>: Foreign key linking to the <code>Customer</code> model.
- <code>clicked_link (bool)</code>: Indicates if the customer clicked the test link.
- <code>ab_test (relationship)</code>: Association with the <code>ABTest</code> model.
- <code>customer (relationship)</code>: Association with the <code>Customer</code> model.
- <code>experiment (relationship)</code>: Association with the <code>Experiment</code> model.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/models1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ABTestResult</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the results of an A/B test for a specific customer.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `result_id (int)`: Primary key for this result.</span>
<span class="sd">    - `ab_test_id (int)`: Foreign key linking to the `ABTest` model.</span>
<span class="sd">    - `experiment_id (int)`: Foreign key linking to the `Experiment` model.</span>
<span class="sd">    - `customer_id (int)`: Foreign key linking to the `Customer` model.</span>
<span class="sd">    - `clicked_link (bool)`: Indicates if the customer clicked the test link.</span>
<span class="sd">    - `ab_test (relationship)`: Association with the `ABTest` model.</span>
<span class="sd">    - `customer (relationship)`: Association with the `Customer` model.</span>
<span class="sd">    - `experiment (relationship)`: Association with the `Experiment` model.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;ab_test_results&quot;</span>
    <span class="n">result_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autoincrement</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">ab_test_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;ab_tests.ab_test_id&quot;</span><span class="p">))</span>
    <span class="n">experiment_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;experiments.experiment_id&quot;</span><span class="p">))</span>
    <span class="n">customer_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;customers.customer_id&quot;</span><span class="p">))</span>
    <span class="n">clicked_link</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">)</span>
    <span class="n">ab_test</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;ABTest&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;results&quot;</span><span class="p">)</span>
    <span class="n">customer</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Customer&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;ab_test_results&quot;</span><span class="p">)</span>
    <span class="n">experiment</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Experiment&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;ab_test_results&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.models1.Customer" class="doc doc-heading">
            <code>Customer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="database1.Base">Base</span></code></p>


        <p>Represents a customer in the system.</p>
<p><strong>Attributes:</strong>
- <code>customer_id (int)</code>: Primary key, unique identifier for each customer.
- <code>name (str)</code>: Customer's name.
- <code>email (str)</code>: Unique email address of the customer.
- <code>subscription_id (int)</code>: Foreign key linking to the <code>Subscription</code> model.
- <code>location (str)</code>: Geographic location of the customer.
- <code>created_at (DateTime)</code>: Timestamp of when the customer was added, defaulting to the current time.
- <code>updated_at (DateTime)</code>: Timestamp of the last update, automatically updated on modification.
- <code>segments (relationship)</code>: Association with the <code>CustomerSegment</code> model.
- <code>engagements (relationship)</code>: Association with the <code>Engagement</code> model for movie interactions.
- <code>ab_test_results (relationship)</code>: Association with the <code>ABTestResult</code> model for test results.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/models1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Customer</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a customer in the system.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `customer_id (int)`: Primary key, unique identifier for each customer.</span>
<span class="sd">    - `name (str)`: Customer&#39;s name.</span>
<span class="sd">    - `email (str)`: Unique email address of the customer.</span>
<span class="sd">    - `subscription_id (int)`: Foreign key linking to the `Subscription` model.</span>
<span class="sd">    - `location (str)`: Geographic location of the customer.</span>
<span class="sd">    - `created_at (DateTime)`: Timestamp of when the customer was added, defaulting to the current time.</span>
<span class="sd">    - `updated_at (DateTime)`: Timestamp of the last update, automatically updated on modification.</span>
<span class="sd">    - `segments (relationship)`: Association with the `CustomerSegment` model.</span>
<span class="sd">    - `engagements (relationship)`: Association with the `Engagement` model for movie interactions.</span>
<span class="sd">    - `ab_test_results (relationship)`: Association with the `ABTestResult` model for test results.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;customers&quot;</span>
    <span class="n">customer_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autoincrement</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">subscription_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;subscriptions.subscription_id&quot;</span><span class="p">))</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>  
    <span class="n">updated_at</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">onupdate</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>
    <span class="n">segments</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;CustomerSegment&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;customer&quot;</span><span class="p">)</span>
    <span class="n">engagements</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Engagement&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;customer&quot;</span><span class="p">)</span>
    <span class="n">ab_test_results</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;ABTestResult&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;customer&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.models1.CustomerSegment" class="doc doc-heading">
            <code>CustomerSegment</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="database1.Base">Base</span></code></p>


        <p>Represents the relationship between customers and segments.</p>
<p><strong>Attributes:</strong>
- <code>customer_segment_id (int)</code>: Primary key for this association.
- <code>customer_id (int)</code>: Foreign key linking to the <code>Customer</code> model.
- <code>segment_id (int)</code>: Foreign key linking to the <code>Segment</code> model.
- <code>customer (relationship)</code>: Association with the <code>Customer</code> model.
- <code>segment (relationship)</code>: Association with the <code>Segment</code> model.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/models1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CustomerSegment</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the relationship between customers and segments.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `customer_segment_id (int)`: Primary key for this association.</span>
<span class="sd">    - `customer_id (int)`: Foreign key linking to the `Customer` model.</span>
<span class="sd">    - `segment_id (int)`: Foreign key linking to the `Segment` model.</span>
<span class="sd">    - `customer (relationship)`: Association with the `Customer` model.</span>
<span class="sd">    - `segment (relationship)`: Association with the `Segment` model.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;customer_segments&quot;</span>
    <span class="n">customer_segment_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">customer_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;customers.customer_id&quot;</span><span class="p">))</span>
    <span class="n">segment_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;segments.segment_id&quot;</span><span class="p">))</span>
    <span class="n">customer</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Customer&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;segments&quot;</span><span class="p">)</span>
    <span class="n">segment</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Segment&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;customers&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.models1.Engagement" class="doc doc-heading">
            <code>Engagement</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="database1.Base">Base</span></code></p>


        <p>Represents a customer's interaction with a movie.</p>
<p><strong>Attributes:</strong>
- <code>engagement_id (int)</code>: Primary key for this engagement record.
- <code>customer_id (int)</code>: Foreign key linking to the <code>Customer</code> model.
- <code>movie_id (int)</code>: Foreign key linking to the <code>Movie</code> model.
- <code>watched_fully (bool)</code>: Indicates if the movie was watched completely.
- <code>like_status (str)</code>: Feedback status ('like', 'dislike', or 'neutral').
- <code>date_watched (DateTime)</code>: Timestamp of when the movie was watched.
- <code>customer (relationship)</code>: Association with the <code>Customer</code> model.
- <code>movie (relationship)</code>: Association with the <code>Movie</code> model.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/models1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Engagement</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a customer&#39;s interaction with a movie.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `engagement_id (int)`: Primary key for this engagement record.</span>
<span class="sd">    - `customer_id (int)`: Foreign key linking to the `Customer` model.</span>
<span class="sd">    - `movie_id (int)`: Foreign key linking to the `Movie` model.</span>
<span class="sd">    - `watched_fully (bool)`: Indicates if the movie was watched completely.</span>
<span class="sd">    - `like_status (str)`: Feedback status (&#39;like&#39;, &#39;dislike&#39;, or &#39;neutral&#39;).</span>
<span class="sd">    - `date_watched (DateTime)`: Timestamp of when the movie was watched.</span>
<span class="sd">    - `customer (relationship)`: Association with the `Customer` model.</span>
<span class="sd">    - `movie (relationship)`: Association with the `Movie` model.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;engagements&quot;</span>
    <span class="n">engagement_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">customer_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;customers.customer_id&quot;</span><span class="p">))</span>
    <span class="n">movie_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;movies.movie_id&quot;</span><span class="p">))</span>
    <span class="n">watched_fully</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">)</span>
    <span class="n">like_status</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
    <span class="n">date_watched</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">)</span>
    <span class="n">customer</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Customer&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;engagements&quot;</span><span class="p">)</span>
    <span class="n">movie</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Movie&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.models1.Experiment" class="doc doc-heading">
            <code>Experiment</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="database1.Base">Base</span></code></p>


        <p>Represents an experimental setup used for A/B testing.</p>
<p><strong>Attributes:</strong>
- <code>experiment_id (int)</code>: Primary key for the experiment.
- <code>p_value (float)</code>: Statistical significance value for the experiment.
- <code>ab_test_results (relationship)</code>: Association with the <code>ABTestResult</code> model.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/models1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Experiment</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents an experimental setup used for A/B testing.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `experiment_id (int)`: Primary key for the experiment.</span>
<span class="sd">    - `p_value (float)`: Statistical significance value for the experiment.</span>
<span class="sd">    - `ab_test_results (relationship)`: Association with the `ABTestResult` model.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;experiments&quot;</span>
    <span class="n">experiment_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autoincrement</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
    <span class="n">p_value</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Float</span><span class="p">)</span>
    <span class="n">ab_test_results</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;ABTestResult&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;experiment&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.models1.Movie" class="doc doc-heading">
            <code>Movie</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="database1.Base">Base</span></code></p>


        <p>Represents a movie in the system.</p>
<p><strong>Attributes:</strong>
- <code>movie_id (int)</code>: Primary key, unique identifier for each movie.
- <code>movie_name (str)</code>: Name of the movie.
- <code>movie_rating (float)</code>: Rating of the movie, typically out of 10 (may be NULL).
- <code>movie_duration (int)</code>: Duration of the movie in minutes (may be NULL).
- <code>movie_genre (str)</code>: Genre or category of the movie (may be NULL).
- <code>release_year (int)</code>: Year the movie was released (may be NULL).</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/models1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Movie</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a movie in the system.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `movie_id (int)`: Primary key, unique identifier for each movie.</span>
<span class="sd">    - `movie_name (str)`: Name of the movie.</span>
<span class="sd">    - `movie_rating (float)`: Rating of the movie, typically out of 10 (may be NULL).</span>
<span class="sd">    - `movie_duration (int)`: Duration of the movie in minutes (may be NULL).</span>
<span class="sd">    - `movie_genre (str)`: Genre or category of the movie (may be NULL).</span>
<span class="sd">    - `release_year (int)`: Year the movie was released (may be NULL).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;movies&quot;</span>
    <span class="n">movie_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">movie_name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">movie_rating</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Float</span><span class="p">)</span>
    <span class="n">movie_duration</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
    <span class="n">movie_genre</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
    <span class="n">release_year</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.models1.Segment" class="doc doc-heading">
            <code>Segment</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="database1.Base">Base</span></code></p>


        <p>Represents a customer segment.</p>
<p><strong>Attributes:</strong>
- <code>segment_id (int)</code>: Primary key, unique identifier for each segment.
- <code>segment_name (str)</code>: Name of the customer segment.
- <code>segment_description (str)</code>: Detailed description of the segment.
- <code>customers (relationship)</code>: Association with the <code>CustomerSegment</code> model, linking this segment to its customers.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/models1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Segment</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a customer segment.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `segment_id (int)`: Primary key, unique identifier for each segment.</span>
<span class="sd">    - `segment_name (str)`: Name of the customer segment.</span>
<span class="sd">    - `segment_description (str)`: Detailed description of the segment.</span>
<span class="sd">    - `customers (relationship)`: Association with the `CustomerSegment` model, linking this segment to its customers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;segments&quot;</span>
    <span class="n">segment_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">segment_name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">segment_description</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Text</span><span class="p">)</span>
    <span class="n">customers</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;CustomerSegment&quot;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;segment&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.models1.Subscription" class="doc doc-heading">
            <code>Subscription</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="database1.Base">Base</span></code></p>


        <p>Represents a subscription plan available to customers.</p>
<p><strong>Attributes:</strong>
- <code>subscription_id (int)</code>: Primary key, unique identifier for each subscription.
- <code>subscription_name (str)</code>: Name of the subscription plan.
- <code>price (int)</code>: Cost of the subscription plan in the given currency.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/models1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Subscription</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents a subscription plan available to customers.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `subscription_id (int)`: Primary key, unique identifier for each subscription.</span>
<span class="sd">    - `subscription_name (str)`: Name of the subscription plan.</span>
<span class="sd">    - `price (int)`: Cost of the subscription plan in the given currency.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;subscriptions&quot;</span>
    <span class="n">subscription_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">subscription_name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">price</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>




  </div>

    </div>

</div><h3 id="schemas">Schemas</h3>


<div class="doc doc-object doc-module">



<a id="applications.back.schema1"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.ABTest" class="doc doc-heading">
            <code>ABTest</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for representing an existing A/B Test.</p>
<p><strong>Attributes:</strong>
- <code>ab_test_id (int)</code>: Unique identifier for the A/B Test.
- <code>goal (str)</code>: The goal of the test (e.g., 'Engagement', 'Subscription').
- <code>targeting (str)</code>: Targeting criteria (e.g., 'genre', 'movie', 'package').
- <code>test_variant (int)</code>: The variant ID for the test.
- <code>text_skeleton (str)</code>: The text template for the test.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ABTest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for representing an existing A/B Test.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `ab_test_id (int)`: Unique identifier for the A/B Test.</span>
<span class="sd">    - `goal (str)`: The goal of the test (e.g., &#39;Engagement&#39;, &#39;Subscription&#39;).</span>
<span class="sd">    - `targeting (str)`: Targeting criteria (e.g., &#39;genre&#39;, &#39;movie&#39;, &#39;package&#39;).</span>
<span class="sd">    - `test_variant (int)`: The variant ID for the test.</span>
<span class="sd">    - `text_skeleton (str)`: The text template for the test.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ab_test_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">goal</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">targeting</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">test_variant</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">text_skeleton</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.ABTestCreate" class="doc doc-heading">
            <code>ABTestCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for creating a new A/B Test.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ABTestCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new A/B Test.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.ABTestResult" class="doc doc-heading">
            <code>ABTestResult</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for representing an existing A/B Test Result.</p>
<p><strong>Attributes:</strong>
- <code>result_id (int)</code>: Unique identifier for the result.
- <code>ab_test_id (int)</code>: ID of the related A/B test.
- <code>experiment_id (int)</code>: ID of the experiment related to the result.
- <code>customer_id (int)</code>: ID of the customer related to the result.
- <code>clicked_link (bool)</code>: Whether the customer clicked the test link.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ABTestResult</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for representing an existing A/B Test Result.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `result_id (int)`: Unique identifier for the result.</span>
<span class="sd">    - `ab_test_id (int)`: ID of the related A/B test.</span>
<span class="sd">    - `experiment_id (int)`: ID of the experiment related to the result.</span>
<span class="sd">    - `customer_id (int)`: ID of the customer related to the result.</span>
<span class="sd">    - `clicked_link (bool)`: Whether the customer clicked the test link.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result_id</span> <span class="p">:</span> <span class="nb">int</span>
    <span class="n">ab_test_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">experiment_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">customer_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">clicked_link</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.ABTestResultCreate" class="doc doc-heading">
            <code>ABTestResultCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for creating a new A/B Test Result.</p>
<p><strong>Attributes:</strong>
- <code>experiment_id (int)</code>: ID of the experiment related to the result.
- <code>customer_id (int)</code>: ID of the customer related to the result.
- <code>clicked_link (bool)</code>: Whether the customer clicked the link in the test.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ABTestResultCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new A/B Test Result.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `experiment_id (int)`: ID of the experiment related to the result.</span>
<span class="sd">    - `customer_id (int)`: ID of the customer related to the result.</span>
<span class="sd">    - `clicked_link (bool)`: Whether the customer clicked the link in the test.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">experiment_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">customer_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">clicked_link</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.BaseSchema" class="doc doc-heading">
            <code>BaseSchema</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Base schema for all Pydantic models.</p>
<p><strong>Config:</strong>
- <code>orm_mode</code>: Enables compatibility with SQLAlchemy models for easy conversion.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BaseSchema</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base schema for all Pydantic models.</span>

<span class="sd">    **Config:**</span>
<span class="sd">    - `orm_mode`: Enables compatibility with SQLAlchemy models for easy conversion.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">orm_mode</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.Customer" class="doc doc-heading">
            <code>Customer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="applications.back.schema1.BaseSchema" href="#applications.back.schema1.BaseSchema">BaseSchema</a></code></p>


        <p>Schema for representing an existing Customer.</p>
<p><strong>Attributes:</strong>
- <code>customer_id (int)</code>: Unique identifier for the customer.
- <code>name (str)</code>: Name of the customer.
- <code>email (str)</code>: Email address of the customer.
- <code>subscription_id (int)</code>: ID of the associated subscription.
- <code>location (Optional[str])</code>: Optional location of the customer.
- <code>created_at (datetime)</code>: Timestamp when the customer was created.
- <code>updated_at (datetime)</code>: Timestamp when the customer was last updated.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Customer</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for representing an existing Customer.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `customer_id (int)`: Unique identifier for the customer.</span>
<span class="sd">    - `name (str)`: Name of the customer.</span>
<span class="sd">    - `email (str)`: Email address of the customer.</span>
<span class="sd">    - `subscription_id (int)`: ID of the associated subscription.</span>
<span class="sd">    - `location (Optional[str])`: Optional location of the customer.</span>
<span class="sd">    - `created_at (datetime)`: Timestamp when the customer was created.</span>
<span class="sd">    - `updated_at (datetime)`: Timestamp when the customer was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">customer_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">subscription_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span>
    <span class="n">updated_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.CustomerCreate" class="doc doc-heading">
            <code>CustomerCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="applications.back.schema1.BaseSchema" href="#applications.back.schema1.BaseSchema">BaseSchema</a></code></p>


        <p>Schema for creating a new Customer.</p>
<p><strong>Attributes:</strong>
- <code>name (str)</code>: Name of the customer.
- <code>email (str)</code>: Email address of the customer.
- <code>location (Optional[str])</code>: Optional location of the customer.
- <code>subscription_id (int)</code>: ID of the associated subscription.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CustomerCreate</span><span class="p">(</span><span class="n">BaseSchema</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new Customer.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `name (str)`: Name of the customer.</span>
<span class="sd">    - `email (str)`: Email address of the customer.</span>
<span class="sd">    - `location (Optional[str])`: Optional location of the customer.</span>
<span class="sd">    - `subscription_id (int)`: ID of the associated subscription.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">email</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">location</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1">#created_at: datetime</span>
    <span class="c1">#updated_at: datetime</span>
    <span class="n">subscription_id</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.CustomerSegment" class="doc doc-heading">
            <code>CustomerSegment</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for representing an existing Customer-Segment relationship.</p>
<p><strong>Attributes:</strong>
- <code>customer_segment_id (int)</code>: Unique identifier for the relationship.
- <code>customer_id (int)</code>: ID of the customer.
- <code>segment_id (int)</code>: ID of the segment.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CustomerSegment</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for representing an existing Customer-Segment relationship.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `customer_segment_id (int)`: Unique identifier for the relationship.</span>
<span class="sd">    - `customer_id (int)`: ID of the customer.</span>
<span class="sd">    - `segment_id (int)`: ID of the segment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">customer_segment_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">customer_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">segment_id</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.CustomerSegmentCreate" class="doc doc-heading">
            <code>CustomerSegmentCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for creating a new Customer-Segment relationship.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CustomerSegmentCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new Customer-Segment relationship.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.EmailRequest" class="doc doc-heading">
            <code>EmailRequest</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for the email request.</p>
<p><strong>Attributes:</strong>
- <code>segment_name (str)</code>: Name of the customer segment.
- <code>text_skeleton_1 (str)</code>: First email skeleton.
- <code>text_skeleton_2 (str)</code>: Second email skeleton.
- <code>ab_test_id_a (int)</code>: A/B test ID for variant A.
- <code>ab_test_id_b (int)</code>: A/B test ID for variant B.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">EmailRequest</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for the email request.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `segment_name (str)`: Name of the customer segment.</span>
<span class="sd">    - `text_skeleton_1 (str)`: First email skeleton.</span>
<span class="sd">    - `text_skeleton_2 (str)`: Second email skeleton.</span>
<span class="sd">    - `ab_test_id_a (int)`: A/B test ID for variant A.</span>
<span class="sd">    - `ab_test_id_b (int)`: A/B test ID for variant B.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">segment_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">text_skeleton_1</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">text_skeleton_2</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">ab_test_id_a</span> <span class="p">:</span> <span class="nb">int</span> 
    <span class="n">ab_test_id_b</span> <span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.Engagement" class="doc doc-heading">
            <code>Engagement</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for representing an existing Engagement.</p>
<p><strong>Attributes:</strong>
- <code>engagement_id (int)</code>: Unique identifier for the engagement.
- <code>customer_id (int)</code>: ID of the customer who engaged with the movie.
- <code>movie_id (int)</code>: ID of the movie that the customer engaged with.
- <code>session_date (datetime)</code>: Timestamp of the engagement.
- <code>session_duration (int)</code>: Duration of the session in minutes.
- <code>watched_fully (bool)</code>: Indicates if the movie was watched fully.
- <code>like_status (Optional[str])</code>: Optional feedback status of the customer.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Engagement</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for representing an existing Engagement.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `engagement_id (int)`: Unique identifier for the engagement.</span>
<span class="sd">    - `customer_id (int)`: ID of the customer who engaged with the movie.</span>
<span class="sd">    - `movie_id (int)`: ID of the movie that the customer engaged with.</span>
<span class="sd">    - `session_date (datetime)`: Timestamp of the engagement.</span>
<span class="sd">    - `session_duration (int)`: Duration of the session in minutes.</span>
<span class="sd">    - `watched_fully (bool)`: Indicates if the movie was watched fully.</span>
<span class="sd">    - `like_status (Optional[str])`: Optional feedback status of the customer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">engagement_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">customer_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">movie_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">session_date</span> <span class="p">:</span> <span class="n">datetime</span>
    <span class="n">session_duration</span> <span class="p">:</span> <span class="nb">int</span>
    <span class="n">watched_fully</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">like_status</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.EngagementCreate" class="doc doc-heading">
            <code>EngagementCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for creating a new Engagement.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">EngagementCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new Engagement.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.Experiment" class="doc doc-heading">
            <code>Experiment</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for representing an existing Experiment.</p>
<p><strong>Attributes:</strong>
- <code>experiment_id (int)</code>: Unique identifier for the experiment.
- <code>p_value (float)</code>: P-value indicating the statistical significance of the experiment.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Experiment</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for representing an existing Experiment.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `experiment_id (int)`: Unique identifier for the experiment.</span>
<span class="sd">    - `p_value (float)`: P-value indicating the statistical significance of the experiment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">experiment_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">p_value</span><span class="p">:</span> <span class="nb">float</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.ExperimentCreate" class="doc doc-heading">
            <code>ExperimentCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for creating a new Experiment.</p>
<p><strong>Attributes:</strong>
- <code>p_value (float)</code>: P-value from the statistical test.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ExperimentCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new Experiment.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `p_value (float)`: P-value from the statistical test.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">p_value</span><span class="p">:</span> <span class="nb">float</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.Movie" class="doc doc-heading">
            <code>Movie</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for representing an existing Movie.</p>
<p><strong>Attributes:</strong>
- <code>movie_id (int)</code>: Unique identifier for the movie.
- <code>movie_name (str)</code>: Name of the movie.
- <code>movie_rating (Optional[float])</code>: Optional rating of the movie.
- <code>movie_duration (Optional[int])</code>: Optional duration of the movie.
- <code>movie_genre (Optional[str])</code>: Optional genre of the movie.
- <code>release_year (Optional[int])</code>: Optional release year of the movie.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Movie</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for representing an existing Movie.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `movie_id (int)`: Unique identifier for the movie.</span>
<span class="sd">    - `movie_name (str)`: Name of the movie.</span>
<span class="sd">    - `movie_rating (Optional[float])`: Optional rating of the movie.</span>
<span class="sd">    - `movie_duration (Optional[int])`: Optional duration of the movie.</span>
<span class="sd">    - `movie_genre (Optional[str])`: Optional genre of the movie.</span>
<span class="sd">    - `release_year (Optional[int])`: Optional release year of the movie.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">movie_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">movie_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">movie_rating</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">movie_duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">movie_genre</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">release_year</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.MovieCreate" class="doc doc-heading">
            <code>MovieCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for creating a new Movie.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MovieCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new Movie.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.Segment" class="doc doc-heading">
            <code>Segment</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for representing an existing Segment.</p>
<p><strong>Attributes:</strong>
- <code>segment_id (int)</code>: Unique identifier for the segment.
- <code>segment_name (str)</code>: Name of the segment.
- <code>segment_description (Optional[str])</code>: Optional description of the segment.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Segment</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for representing an existing Segment.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `segment_id (int)`: Unique identifier for the segment.</span>
<span class="sd">    - `segment_name (str)`: Name of the segment.</span>
<span class="sd">    - `segment_description (Optional[str])`: Optional description of the segment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">segment_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">segment_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">segment_description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.SegmentCreate" class="doc doc-heading">
            <code>SegmentCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for creating a new Segment.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SegmentCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new Segment.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.Subscription" class="doc doc-heading">
            <code>Subscription</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for representing an existing Subscription.</p>
<p><strong>Attributes:</strong>
- <code>subscription_id (int)</code>: Unique identifier for the subscription.
- <code>subscription_name (str)</code>: Name of the subscription plan.
- <code>price (int)</code>: Price of the subscription.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Subscription</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for representing an existing Subscription.</span>

<span class="sd">    **Attributes:**</span>
<span class="sd">    - `subscription_id (int)`: Unique identifier for the subscription.</span>
<span class="sd">    - `subscription_name (str)`: Name of the subscription plan.</span>
<span class="sd">    - `price (int)`: Price of the subscription.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">subscription_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">subscription_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">price</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">











  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="applications.back.schema1.SubscriptionCreate" class="doc doc-heading">
            <code>SubscriptionCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>


        <p>Schema for creating a new Subscription.</p>






              <details class="quote">
                <summary>Source code in <code>applications/back/schema1.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SubscriptionCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Schema for creating a new Subscription.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>

    </div>

</div>




  </div>

    </div>

</div><h3 id="main-api-logic">Main API Logic</h3>


<div class="doc doc-object doc-module">



<a id="applications.back.main"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="applications.back.main.create_ab_test" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_ab_test</span><span class="p">(</span><span class="n">ab_test</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new A/B test record.</p>
<p><strong>Parameters:</strong>
- <code>ab_test (ABTestCreate)</code>: The A/B test data to create. This includes:
    - <code>goal (str)</code>: The goal of the A/B test (e.g., 'Engagement' or 'Subscription').
    - <code>targeting (str)</code>: The targeting criteria (e.g., 'genre', 'movie', 'package').
    - <code>test_variant (int)</code>: The variant identifier for A/B testing (required).
    - <code>text_skeleton (str)</code>: The template for the test, including variants (required).</p>
<p><strong>Returns:</strong>
- <code>ABTest</code>: The newly created A/B test record details.</p>
<p><strong>Raises:</strong>
- <code>HTTPException</code>: If there's an error with the database operation, raises a 500 error.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/ab_tests/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">schemas</span><span class="o">.</span><span class="n">ABTest</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_ab_test</span><span class="p">(</span><span class="n">ab_test</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ABTestCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new A/B test record.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `ab_test (ABTestCreate)`: The A/B test data to create. This includes:</span>
<span class="sd">        - `goal (str)`: The goal of the A/B test (e.g., &#39;Engagement&#39; or &#39;Subscription&#39;).</span>
<span class="sd">        - `targeting (str)`: The targeting criteria (e.g., &#39;genre&#39;, &#39;movie&#39;, &#39;package&#39;).</span>
<span class="sd">        - `test_variant (int)`: The variant identifier for A/B testing (required).</span>
<span class="sd">        - `text_skeleton (str)`: The template for the test, including variants (required).</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `ABTest`: The newly created A/B test record details.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException`: If there&#39;s an error with the database operation, raises a 500 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_ab_test</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">ABTest</span><span class="p">(</span><span class="o">**</span><span class="n">ab_test</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_ab_test</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_ab_test</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_ab_test</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.create_ab_test_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_ab_test_result</span><span class="p">(</span><span class="n">ab_test_result</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new A/B test result record.</p>
<p><strong>Parameters:</strong>
- <code>ab_test_result (ABTestResultCreate)</code>: The A/B test result data to create. This includes:
    - <code>ab_test_id (int)</code>: The ID of the A/B test (required).
    - <code>customer_id (int)</code>: The ID of the customer who participated in the test (required).
    - <code>clicked_link (bool)</code>: Whether the customer clicked the link (required).</p>
<p><strong>Returns:</strong>
- <code>ABTestResult</code>: The newly created A/B test result record details.</p>
<p><strong>Raises:</strong>
- <code>HTTPException</code>: If there's an error with the database operation, raises a 500 error.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/ab_test_results/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">schemas</span><span class="o">.</span><span class="n">ABTestResult</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_ab_test_result</span><span class="p">(</span><span class="n">ab_test_result</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">ABTestResultCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new A/B test result record.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `ab_test_result (ABTestResultCreate)`: The A/B test result data to create. This includes:</span>
<span class="sd">        - `ab_test_id (int)`: The ID of the A/B test (required).</span>
<span class="sd">        - `customer_id (int)`: The ID of the customer who participated in the test (required).</span>
<span class="sd">        - `clicked_link (bool)`: Whether the customer clicked the link (required).</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `ABTestResult`: The newly created A/B test result record details.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException`: If there&#39;s an error with the database operation, raises a 500 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_ab_test_result</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">ABTestResult</span><span class="p">(</span><span class="o">**</span><span class="n">ab_test_result</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_ab_test_result</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_ab_test_result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_ab_test_result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.create_customer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_customer</span><span class="p">(</span><span class="n">customer</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new customer.</p>
<p><strong>Parameters:</strong>
- <code>customer (CustomerCreate)</code>: The customer data to create. This includes:
    - <code>name (str)</code>: Customer's name.
    - <code>email (str)</code>: Customer's email address.
    - <code>subscription_id (str)</code>: Customer's subscription ID.
    - <code>location (str)</code>: Customer's location.</p>
<p><strong>Returns:</strong>
- <code>Customer</code>: The newly created customer's details.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/customers/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_customer</span><span class="p">(</span><span class="n">customer</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">CustomerCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new customer.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `customer (CustomerCreate)`: The customer data to create. This includes:</span>
<span class="sd">        - `name (str)`: Customer&#39;s name.</span>
<span class="sd">        - `email (str)`: Customer&#39;s email address.</span>
<span class="sd">        - `subscription_id (str)`: Customer&#39;s subscription ID.</span>
<span class="sd">        - `location (str)`: Customer&#39;s location.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `Customer`: The newly created customer&#39;s details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">new_customer</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">Customer</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">customer</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">email</span><span class="o">=</span><span class="n">customer</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
        <span class="n">subscription_id</span><span class="o">=</span><span class="n">customer</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
        <span class="n">location</span><span class="o">=</span><span class="n">customer</span><span class="o">.</span><span class="n">location</span>
    <span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_customer</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">schemas</span><span class="o">.</span><span class="n">Customer</span><span class="p">(</span>
        <span class="n">customer_id</span><span class="o">=</span><span class="n">new_customer</span><span class="o">.</span><span class="n">customer_id</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">new_customer</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">email</span><span class="o">=</span><span class="n">new_customer</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
        <span class="n">subscription_id</span><span class="o">=</span><span class="n">new_customer</span><span class="o">.</span><span class="n">subscription_id</span><span class="p">,</span>
        <span class="n">location</span><span class="o">=</span><span class="n">new_customer</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
        <span class="n">created_at</span><span class="o">=</span><span class="n">new_customer</span><span class="o">.</span><span class="n">created_at</span><span class="p">,</span>
        <span class="n">updated_at</span><span class="o">=</span><span class="n">new_customer</span><span class="o">.</span><span class="n">updated_at</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.create_customer_segment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_customer_segment</span><span class="p">(</span><span class="n">customer_segment</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new customer segment.</p>
<p><strong>Parameters:</strong>
- <code>customer_segment (CustomerSegmentCreate)</code>: The customer segment data to create. This includes:
    - <code>customer_id (int)</code>: The ID of the customer (required).
    - <code>segment_id (int)</code>: The ID of the segment (required).</p>
<p><strong>Returns:</strong>
- <code>CustomerSegment</code>: The newly created customer segment's details.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/customer_segments/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">schemas</span><span class="o">.</span><span class="n">CustomerSegment</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_customer_segment</span><span class="p">(</span><span class="n">customer_segment</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">CustomerSegmentCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new customer segment.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `customer_segment (CustomerSegmentCreate)`: The customer segment data to create. This includes:</span>
<span class="sd">        - `customer_id (int)`: The ID of the customer (required).</span>
<span class="sd">        - `segment_id (int)`: The ID of the segment (required).</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `CustomerSegment`: The newly created customer segment&#39;s details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_customer_segment</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">CustomerSegment</span><span class="p">(</span><span class="o">**</span><span class="n">customer_segment</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_customer_segment</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_customer_segment</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_customer_segment</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.create_engagement" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_engagement</span><span class="p">(</span><span class="n">engagement</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new engagement record.</p>
<p><strong>Parameters:</strong>
- <code>engagement (EngagementCreate)</code>: The engagement data to create. This includes:
    - <code>customer_id (int)</code>: The ID of the customer (required).
    - <code>movie_id (int)</code>: The ID of the movie (required).
    - <code>watched_fully (bool)</code>: Whether the customer has watched the movie fully (required).
    - <code>like_status (str, optional)</code>: The like status of the movie (optional).
    - <code>date_watched (str, optional)</code>: The date when the movie was watched (optional).</p>
<p><strong>Returns:</strong>
- <code>Engagement</code>: The newly created engagement record details.</p>
<p><strong>Raises:</strong>
- <code>HTTPException</code>: If there's an error with the database operation, raises a 500 error.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/engagements/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">schemas</span><span class="o">.</span><span class="n">Engagement</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_engagement</span><span class="p">(</span><span class="n">engagement</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">EngagementCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new engagement record.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `engagement (EngagementCreate)`: The engagement data to create. This includes:</span>
<span class="sd">        - `customer_id (int)`: The ID of the customer (required).</span>
<span class="sd">        - `movie_id (int)`: The ID of the movie (required).</span>
<span class="sd">        - `watched_fully (bool)`: Whether the customer has watched the movie fully (required).</span>
<span class="sd">        - `like_status (str, optional)`: The like status of the movie (optional).</span>
<span class="sd">        - `date_watched (str, optional)`: The date when the movie was watched (optional).</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `Engagement`: The newly created engagement record details.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException`: If there&#39;s an error with the database operation, raises a 500 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_engagement</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">Engagement</span><span class="p">(</span><span class="o">**</span><span class="n">engagement</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_engagement</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_engagement</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_engagement</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.create_movie" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_movie</span><span class="p">(</span><span class="n">movie</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new movie.</p>
<p><strong>Parameters:</strong>
- <code>movie (MovieCreate)</code>: The movie data to create. This includes:
    - <code>movie_name (str)</code>: The name of the movie (required).
    - <code>movie_rating (float, optional)</code>: The rating of the movie (optional).
    - <code>movie_duration (int, optional)</code>: The duration of the movie (optional).
    - <code>movie_genre (str, optional)</code>: The genre of the movie (optional).
    - <code>release_year (int, optional)</code>: The release year of the movie (optional).</p>
<p><strong>Returns:</strong>
- <code>Movie</code>: The newly created movie's details, including <code>movie_id</code>.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/movies/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">schemas</span><span class="o">.</span><span class="n">Movie</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_movie</span><span class="p">(</span><span class="n">movie</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">MovieCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new movie.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `movie (MovieCreate)`: The movie data to create. This includes:</span>
<span class="sd">        - `movie_name (str)`: The name of the movie (required).</span>
<span class="sd">        - `movie_rating (float, optional)`: The rating of the movie (optional).</span>
<span class="sd">        - `movie_duration (int, optional)`: The duration of the movie (optional).</span>
<span class="sd">        - `movie_genre (str, optional)`: The genre of the movie (optional).</span>
<span class="sd">        - `release_year (int, optional)`: The release year of the movie (optional).</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `Movie`: The newly created movie&#39;s details, including `movie_id`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">db_movie</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">Movie</span><span class="p">(</span><span class="o">**</span><span class="n">movie</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_movie</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_movie</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_movie</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.create_segment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_segment</span><span class="p">(</span><span class="n">segment</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new segment.</p>
<p><strong>Parameters:</strong>
- <code>segment (SegmentCreate)</code>: The segment data to create. This includes:
    - <code>segment_name (str)</code>: The name of the segment (required).
    - <code>segment_description (str, optional)</code>: A description of the segment (optional).
- <code>db (Session, optional)</code>: The database session provided by dependency injection.</p>
<p><strong>Returns:</strong>
- <code>Segment</code>: The newly created segment's details, including the <code>segment_id</code>.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/segments/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">schemas</span><span class="o">.</span><span class="n">Segment</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_segment</span><span class="p">(</span><span class="n">segment</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">SegmentCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new segment.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `segment (SegmentCreate)`: The segment data to create. This includes:</span>
<span class="sd">        - `segment_name (str)`: The name of the segment (required).</span>
<span class="sd">        - `segment_description (str, optional)`: A description of the segment (optional).</span>
<span class="sd">    - `db (Session, optional)`: The database session provided by dependency injection.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `Segment`: The newly created segment&#39;s details, including the `segment_id`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_segment</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">Segment</span><span class="p">(</span><span class="o">**</span><span class="n">segment</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_segment</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_segment</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_segment</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.create_subscription" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_subscription</span><span class="p">(</span><span class="n">subscription</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new subscription record.</p>
<p><strong>Parameters:</strong>
- <code>subscription (SubscriptionCreate)</code>: The subscription data to create. This includes:
    - <code>subscription_name (str)</code>: The name of the subscription package (required).
    - <code>price (int)</code>: The price of the subscription (required).</p>
<p><strong>Returns:</strong>
- <code>Subscription</code>: The newly created subscription record details.</p>
<p><strong>Raises:</strong>
- <code>HTTPException</code>: If there's an error with the database operation, raises a 500 error.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/subscriptions/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">schemas</span><span class="o">.</span><span class="n">Subscription</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_subscription</span><span class="p">(</span><span class="n">subscription</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">SubscriptionCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new subscription record.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `subscription (SubscriptionCreate)`: The subscription data to create. This includes:</span>
<span class="sd">        - `subscription_name (str)`: The name of the subscription package (required).</span>
<span class="sd">        - `price (int)`: The price of the subscription (required).</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `Subscription`: The newly created subscription record details.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException`: If there&#39;s an error with the database operation, raises a 500 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_subscription</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">Subscription</span><span class="p">(</span><span class="o">**</span><span class="n">subscription</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_subscription</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_subscription</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_subscription</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.get_db" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_db</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Dependency that provides a database session.</p>
<p><strong>Returns:</strong>
- <code>db (Session)</code>: The database session.</p>
<p><strong>Raises:</strong>
- None.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_db</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Dependency that provides a database session.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `db (Session)`: The database session.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">SessionLocal</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">db</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.read_ab_test_results" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_ab_test_results</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Fetch a list of A/B test results with pagination.</p>
<p><strong>Parameters:</strong>
- <code>skip (int, optional)</code>: The number of records to skip (default is 0).
- <code>limit (int, optional)</code>: The number of records to return (default is 10).
- <code>db (Session, optional)</code>: The database session provided by dependency injection.</p>
<p><strong>Returns:</strong>
- A list of A/B test result records from the database.</p>
<p><strong>Raises:</strong>
- <code>HTTPException</code>: If there's an issue retrieving the records, raises a 500 error.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/ab_test_results/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">ABTestResult</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">read_ab_test_results</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch a list of A/B test results with pagination.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `skip (int, optional)`: The number of records to skip (default is 0).</span>
<span class="sd">    - `limit (int, optional)`: The number of records to return (default is 10).</span>
<span class="sd">    - `db (Session, optional)`: The database session provided by dependency injection.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - A list of A/B test result records from the database.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException`: If there&#39;s an issue retrieving the records, raises a 500 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">ABTestResult</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.read_ab_tests" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_ab_tests</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Fetch a list of A/B tests with pagination.</p>
<p><strong>Parameters:</strong>
- <code>skip (int, optional)</code>: The number of records to skip (default is 0).
- <code>limit (int, optional)</code>: The number of records to return (default is 10).
- <code>db (Session, optional)</code>: The database session provided by dependency injection.</p>
<p><strong>Returns:</strong>
- A list of A/B test records from the database.</p>
<p><strong>Raises:</strong>
- <code>HTTPException</code>: If there's an issue retrieving the records, raises a 500 error.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/ab_tests/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">ABTest</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">read_ab_tests</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch a list of A/B tests with pagination.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `skip (int, optional)`: The number of records to skip (default is 0).</span>
<span class="sd">    - `limit (int, optional)`: The number of records to return (default is 10).</span>
<span class="sd">    - `db (Session, optional)`: The database session provided by dependency injection.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - A list of A/B test records from the database.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException`: If there&#39;s an issue retrieving the records, raises a 500 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">ABTest</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.read_customer_segments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_customer_segments</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Fetch a list of customer segments with pagination.</p>
<p><strong>Parameters:</strong>
- <code>skip (int, optional)</code>: The number of records to skip (default is 0).
- <code>limit (int, optional)</code>: The number of records to return (default is 10).
- <code>db (Session, optional)</code>: The database session provided by dependency injection.</p>
<p><strong>Returns:</strong>
- A list of customer segments from the database.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customer_segments/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">CustomerSegment</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">read_customer_segments</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch a list of customer segments with pagination.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `skip (int, optional)`: The number of records to skip (default is 0).</span>
<span class="sd">    - `limit (int, optional)`: The number of records to return (default is 10).</span>
<span class="sd">    - `db (Session, optional)`: The database session provided by dependency injection.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - A list of customer segments from the database.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">CustomerSegment</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.read_customers" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_customers</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Fetch a list of customers with pagination.</p>
<p><strong>Parameters:</strong>
- <code>skip (int, optional)</code>: The number of records to skip (default is 0).
- <code>limit (int, optional)</code>: The number of records to return (default is 10).
- <code>db (Session, optional)</code>: The database session provided by dependency injection.</p>
<p><strong>Returns:</strong>
- A list of customers from the database.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/customers/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">Customer</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">read_customers</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch a list of customers with pagination.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `skip (int, optional)`: The number of records to skip (default is 0).</span>
<span class="sd">    - `limit (int, optional)`: The number of records to return (default is 10).</span>
<span class="sd">    - `db (Session, optional)`: The database session provided by dependency injection.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - A list of customers from the database.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">Customer</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.read_engagements" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_engagements</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Fetch a list of engagements with pagination.</p>
<p><strong>Parameters:</strong>
- <code>skip (int, optional)</code>: The number of records to skip (default is 0).
- <code>limit (int, optional)</code>: The number of records to return (default is 10).
- <code>db (Session, optional)</code>: The database session provided by dependency injection.</p>
<p><strong>Returns:</strong>
- A list of engagement records from the database.</p>
<p><strong>Raises:</strong>
- <code>HTTPException</code>: If there's an issue retrieving the records, raises a 500 error.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/engagements/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">Engagement</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">read_engagements</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch a list of engagements with pagination.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `skip (int, optional)`: The number of records to skip (default is 0).</span>
<span class="sd">    - `limit (int, optional)`: The number of records to return (default is 10).</span>
<span class="sd">    - `db (Session, optional)`: The database session provided by dependency injection.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - A list of engagement records from the database.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException`: If there&#39;s an issue retrieving the records, raises a 500 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">Engagement</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.read_movies" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_movies</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Fetch a list of movies with pagination.</p>
<p><strong>Parameters:</strong>
- <code>skip (int, optional)</code>: The number of records to skip (default is 0).
- <code>limit (int, optional)</code>: The number of records to return (default is 10).
- <code>db (Session, optional)</code>: The database session provided by dependency injection.</p>
<p><strong>Returns:</strong>
- A list of movies from the database.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/movies/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">Movie</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">read_movies</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch a list of movies with pagination.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `skip (int, optional)`: The number of records to skip (default is 0).</span>
<span class="sd">    - `limit (int, optional)`: The number of records to return (default is 10).</span>
<span class="sd">    - `db (Session, optional)`: The database session provided by dependency injection.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - A list of movies from the database.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">Movie</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.read_root" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_root</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Root endpoint for checking if the FastAPI application is working.</p>
<p><strong>Parameters:</strong>
- No parameters for this root endpoint.</p>
<p><strong>Returns:</strong>
- <code>message (str)</code>: A simple welcome message confirming that the app is working.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">read_root</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Root endpoint for checking if the FastAPI application is working.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - No parameters for this root endpoint.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `message (str)`: A simple welcome message confirming that the app is working.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Welcome to the FastAPI application!&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.read_segments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_segments</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Fetch a list of segments with pagination.</p>
<p><strong>Parameters:</strong>
- <code>skip (int, optional)</code>: The number of records to skip (default is 0).
- <code>limit (int, optional)</code>: The number of records to return (default is 10).
- <code>db (Session, optional)</code>: The database session provided by dependency injection.</p>
<p><strong>Returns:</strong>
- A list of segments from the database.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/experiments/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">Experiment</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">read_segments</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch a list of segments with pagination.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `skip (int, optional)`: The number of records to skip (default is 0).</span>
<span class="sd">    - `limit (int, optional)`: The number of records to return (default is 10).</span>
<span class="sd">    - `db (Session, optional)`: The database session provided by dependency injection.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - A list of segments from the database.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">Experiment</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.read_subscriptions" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_subscriptions</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Fetch a list of subscriptions with pagination.</p>
<p><strong>Parameters:</strong>
- <code>skip (int, optional)</code>: The number of records to skip (default is 0).
- <code>limit (int, optional)</code>: The number of records to return (default is 10).
- <code>db (Session, optional)</code>: The database session provided by dependency injection.</p>
<p><strong>Returns:</strong>
- A list of subscription records from the database.</p>
<p><strong>Raises:</strong>
- <code>HTTPException</code>: If there's an issue retrieving the records, raises a 500 error.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/subscriptions/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">schemas</span><span class="o">.</span><span class="n">Subscription</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">read_subscriptions</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch a list of subscriptions with pagination.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `skip (int, optional)`: The number of records to skip (default is 0).</span>
<span class="sd">    - `limit (int, optional)`: The number of records to return (default is 10).</span>
<span class="sd">    - `db (Session, optional)`: The database session provided by dependency injection.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - A list of subscription records from the database.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException`: If there&#39;s an issue retrieving the records, raises a 500 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">Subscription</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.send_emails" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">send_emails</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Send personalized emails to customers in the selected segment and track performance.</p>
<p><strong>Parameters:</strong>
- <code>request (schemas.EmailRequest)</code>: The request body containing the following data:
    - <code>segment_name (str)</code>: The name of the customer segment.
    - <code>text_skeleton_1 (str)</code>: The first email skeleton message.
    - <code>text_skeleton_2 (str)</code>: The second email skeleton message.
    - <code>ab_test_id_a (int)</code>: The ID of the A/B test for Variant A.
    - <code>ab_test_id_b (int)</code>: The ID of the A/B test for Variant B.</p>
<p><strong>Returns:</strong>
- <code>message (str)</code>: Success message with the count of emails sent.</p>
<p><strong>Raises:</strong>
- <code>HTTPException (404)</code>: If the A/B test IDs do not exist or no customers are found for the segment.
- <code>HTTPException (500)</code>: For any unexpected errors.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/send-emails&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">send_emails</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">schemas</span><span class="o">.</span><span class="n">EmailRequest</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Send personalized emails to customers in the selected segment and track performance.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `request (schemas.EmailRequest)`: The request body containing the following data:</span>
<span class="sd">        - `segment_name (str)`: The name of the customer segment.</span>
<span class="sd">        - `text_skeleton_1 (str)`: The first email skeleton message.</span>
<span class="sd">        - `text_skeleton_2 (str)`: The second email skeleton message.</span>
<span class="sd">        - `ab_test_id_a (int)`: The ID of the A/B test for Variant A.</span>
<span class="sd">        - `ab_test_id_b (int)`: The ID of the A/B test for Variant B.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `message (str)`: Success message with the count of emails sent.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException (404)`: If the A/B test IDs do not exist or no customers are found for the segment.</span>
<span class="sd">    - `HTTPException (500)`: For any unexpected errors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">segment_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">segment_name</span>
    <span class="n">text_skeleton_1</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">text_skeleton_1</span>
    <span class="n">text_skeleton_2</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">text_skeleton_2</span>
    <span class="n">ab_test_id_a</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">ab_test_id_a</span>  <span class="c1"># Passed from the frontend (Variant A)</span>
    <span class="n">ab_test_id_b</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">ab_test_id_b</span>  <span class="c1"># Passed from the frontend (Variant B)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Validate both A/B test IDs exist</span>
        <span class="k">for</span> <span class="n">ab_test_id</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ab_test_id_a</span><span class="p">,</span> <span class="n">ab_test_id_b</span><span class="p">]:</span>
            <span class="n">ab_test</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">ABTest</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">ABTest</span><span class="o">.</span><span class="n">ab_test_id</span> <span class="o">==</span> <span class="n">ab_test_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ab_test</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;AB Test with ID </span><span class="si">{</span><span class="n">ab_test_id</span><span class="si">}</span><span class="s2"> not found.&quot;</span><span class="p">)</span>

        <span class="c1"># Insert a new experiment row with a NULL p-value</span>
        <span class="n">new_experiment</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">Experiment</span><span class="p">(</span><span class="n">p_value</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_experiment</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_experiment</span><span class="p">)</span>
        <span class="n">experiment_id</span> <span class="o">=</span> <span class="n">new_experiment</span><span class="o">.</span><span class="n">experiment_id</span>  <span class="c1"># Retrieve the generated experiment ID</span>

        <span class="c1"># Fetch target customers</span>
        <span class="n">target_customers</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">Customer</span><span class="p">)</span>
            <span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">CustomerSegment</span><span class="p">,</span> <span class="n">models1</span><span class="o">.</span><span class="n">Customer</span><span class="o">.</span><span class="n">customer_id</span> <span class="o">==</span> <span class="n">models1</span><span class="o">.</span><span class="n">CustomerSegment</span><span class="o">.</span><span class="n">customer_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">Segment</span><span class="p">,</span> <span class="n">models1</span><span class="o">.</span><span class="n">CustomerSegment</span><span class="o">.</span><span class="n">segment_id</span> <span class="o">==</span> <span class="n">models1</span><span class="o">.</span><span class="n">Segment</span><span class="o">.</span><span class="n">segment_id</span><span class="p">)</span>
            <span class="o">.</span><span class="n">filter</span><span class="p">(</span>
                <span class="n">models1</span><span class="o">.</span><span class="n">Segment</span><span class="o">.</span><span class="n">segment_name</span><span class="o">.</span><span class="n">ilike</span><span class="p">(</span><span class="n">segment_name</span><span class="p">),</span>
                <span class="n">models1</span><span class="o">.</span><span class="n">Customer</span><span class="o">.</span><span class="n">customer_id</span> <span class="o">&gt;</span> <span class="mi">2000</span>
            <span class="p">)</span>
            <span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">target_customers</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;No customers found for the segment &#39;</span><span class="si">{</span><span class="n">segment_name</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Split customers into two groups for A/B testing</span>
        <span class="n">mid_index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">target_customers</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">group_a</span> <span class="o">=</span> <span class="n">target_customers</span><span class="p">[:</span><span class="n">mid_index</span><span class="p">]</span>
        <span class="n">group_b</span> <span class="o">=</span> <span class="n">target_customers</span><span class="p">[</span><span class="n">mid_index</span><span class="p">:]</span>

        <span class="c1"># Add tracking links and send emails</span>
        <span class="n">emails_sent</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">group</span><span class="p">,</span> <span class="n">ab_test_id</span><span class="p">,</span> <span class="n">skeleton</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span>
            <span class="p">(</span><span class="n">group_a</span><span class="p">,</span> <span class="n">ab_test_id_a</span><span class="p">,</span> <span class="n">text_skeleton_1</span><span class="p">),</span>
            <span class="p">(</span><span class="n">group_b</span><span class="p">,</span> <span class="n">ab_test_id_b</span><span class="p">,</span> <span class="n">text_skeleton_2</span><span class="p">),</span>
        <span class="p">]):</span>
            <span class="k">for</span> <span class="n">customer</span> <span class="ow">in</span> <span class="n">group</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># Generate tracking link</span>
                    <span class="n">tracking_token</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
                    <span class="n">tracking_url</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;http://localhost:8000/track/click/</span><span class="si">{</span><span class="n">ab_test_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">experiment_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">customer</span><span class="o">.</span><span class="n">customer_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">tracking_token</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="p">)</span>

                    <span class="c1"># Insert click tracking data into ab_test_results</span>
                    <span class="n">ab_test_result</span> <span class="o">=</span> <span class="n">models1</span><span class="o">.</span><span class="n">ABTestResult</span><span class="p">(</span>
                        <span class="n">ab_test_id</span><span class="o">=</span><span class="n">ab_test_id</span><span class="p">,</span>
                        <span class="n">experiment_id</span><span class="o">=</span><span class="n">experiment_id</span><span class="p">,</span>
                        <span class="n">customer_id</span><span class="o">=</span><span class="n">customer</span><span class="o">.</span><span class="n">customer_id</span><span class="p">,</span>
                        <span class="n">clicked_link</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Default to False; updated upon click</span>
                    <span class="p">)</span>
                    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ab_test_result</span><span class="p">)</span>

                    <span class="c1"># Send email</span>
                    <span class="n">first_name</span> <span class="o">=</span> <span class="n">customer</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">email_body</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">skeleton</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Click here to learn more: </span><span class="si">{</span><span class="n">tracking_url</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="n">send_email</span><span class="p">(</span>
                        <span class="n">recipient_email</span><span class="o">=</span><span class="p">[</span><span class="n">customer</span><span class="o">.</span><span class="n">email</span><span class="p">],</span>
                        <span class="n">subject</span><span class="o">=</span><span class="s2">&quot;Exciting News&quot;</span><span class="p">,</span>
                        <span class="n">body</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Hi </span><span class="si">{</span><span class="n">first_name</span><span class="si">}</span><span class="s2">!</span><span class="se">\n\n</span><span class="si">{</span><span class="n">email_body</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Email sent successfully to </span><span class="si">{</span><span class="n">customer</span><span class="o">.</span><span class="n">email</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
                    <span class="n">emails_sent</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to send email to </span><span class="si">{</span><span class="n">customer</span><span class="o">.</span><span class="n">email</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Commit tracking data to the database</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Emails sent successfully to </span><span class="si">{</span><span class="n">emails_sent</span><span class="si">}</span><span class="s2"> customers.&quot;</span><span class="p">}</span>

    <span class="k">except</span> <span class="n">HTTPException</span> <span class="k">as</span> <span class="n">http_exc</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;HTTP Exception: </span><span class="si">{</span><span class="n">http_exc</span><span class="o">.</span><span class="n">detail</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">http_exc</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An unexpected error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;An unexpected error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.test_send_email" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_send_email</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Send a test email.</p>
<p><strong>Parameters:</strong>
- No parameters for this test endpoint.</p>
<p><strong>Returns:</strong>
- <code>message (str)</code>: A message indicating the test email was sent successfully.</p>
<p><strong>Raises:</strong>
- <code>HTTPException</code>: If there's an issue with sending the email, it raises a 500 error.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/test-send-email&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">test_send_email</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Send a test email.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - No parameters for this test endpoint.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `message (str)`: A message indicating the test email was sent successfully.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException`: If there&#39;s an issue with sending the email, it raises a 500 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">recipient_email</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ani_aloyan2@edu.aua.am&quot;</span><span class="p">]</span>  
    <span class="n">subject</span> <span class="o">=</span> <span class="s2">&quot;Test Email&quot;</span>
    <span class="n">body</span> <span class="o">=</span> <span class="s2">&quot;This is a test email sent from FastAPI without using the database.&quot;</span>

    <span class="c1"># Send the email</span>
    <span class="n">send_email</span><span class="p">(</span><span class="n">recipient_email</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Test email sent successfully!&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.main.track_click" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track_click</span><span class="p">(</span><span class="n">ab_test_id</span><span class="p">,</span> <span class="n">experiment_id</span><span class="p">,</span> <span class="n">customer_id</span><span class="p">,</span> <span class="n">click_token</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Endpoint to track a click event for a specific customer in an A/B test.</p>
<p><strong>Parameters:</strong>
- <code>ab_test_id (int)</code>: The ID of the A/B test.
- <code>experiment_id (int)</code>: The ID of the experiment.
- <code>customer_id (int)</code>: The ID of the customer.
- <code>click_token (str)</code>: The unique token for tracking the click.</p>
<p><strong>Returns:</strong>
- Success message if the click is tracked successfully.</p>
<p><strong>Raises:</strong>
- <code>HTTPException (404)</code>: If no matching record is found.
- <code>HTTPException (400)</code>: If the click has already been tracked.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/track/click/</span><span class="si">{ab_test_id}</span><span class="s2">/</span><span class="si">{experiment_id}</span><span class="s2">/</span><span class="si">{customer_id}</span><span class="s2">/</span><span class="si">{click_token}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">track_click</span><span class="p">(</span>
    <span class="n">ab_test_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">experiment_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">customer_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">click_token</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Endpoint to track a click event for a specific customer in an A/B test.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `ab_test_id (int)`: The ID of the A/B test.</span>
<span class="sd">    - `experiment_id (int)`: The ID of the experiment.</span>
<span class="sd">    - `customer_id (int)`: The ID of the customer.</span>
<span class="sd">    - `click_token (str)`: The unique token for tracking the click.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - Success message if the click is tracked successfully.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `HTTPException (404)`: If no matching record is found.</span>
<span class="sd">    - `HTTPException (400)`: If the click has already been tracked.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Fetch the click record</span>
        <span class="n">click_record</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">models1</span><span class="o">.</span><span class="n">ABTestResult</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">models1</span><span class="o">.</span><span class="n">ABTestResult</span><span class="o">.</span><span class="n">ab_test_id</span> <span class="o">==</span> <span class="n">ab_test_id</span><span class="p">,</span>
            <span class="n">models1</span><span class="o">.</span><span class="n">ABTestResult</span><span class="o">.</span><span class="n">experiment_id</span> <span class="o">==</span> <span class="n">experiment_id</span><span class="p">,</span>
            <span class="n">models1</span><span class="o">.</span><span class="n">ABTestResult</span><span class="o">.</span><span class="n">customer_id</span> <span class="o">==</span> <span class="n">customer_id</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">click_record</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> 
                <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;No click record found for ab_test_id=</span><span class="si">{</span><span class="n">ab_test_id</span><span class="si">}</span><span class="s2">, experiment_id=</span><span class="si">{</span><span class="n">experiment_id</span><span class="si">}</span><span class="s2">, customer_id=</span><span class="si">{</span><span class="n">customer_id</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if the click has already been tracked</span>
        <span class="k">if</span> <span class="n">click_record</span><span class="o">.</span><span class="n">clicked_link</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Click has already been tracked for this customer.&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Update the record to mark the click</span>
        <span class="n">click_record</span><span class="o">.</span><span class="n">clicked_link</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Click tracked successfully&quot;</span><span class="p">}</span>

    <span class="k">except</span> <span class="n">HTTPException</span> <span class="k">as</span> <span class="n">http_exc</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;HTTP Exception: </span><span class="si">{</span><span class="n">http_exc</span><span class="o">.</span><span class="n">detail</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">http_exc</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An unexpected error occurred: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
            <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;An unexpected error occurred while tracking the click.&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h3 id="email-utilities">Email Utilities</h3>


<div class="doc doc-object doc-module">



<a id="applications.back.email_utils"></a>
    <div class="doc doc-contents first">








  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="applications.back.email_utils.generate_click_token" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_click_token</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Generate a unique token for click tracking.</p>
<p><strong>Returns:</strong>
- <code>click_token (str)</code>: A randomly generated UUID token for tracking clicks.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/email_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">generate_click_token</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a unique token for click tracking.</span>

<span class="sd">    **Returns:**</span>
<span class="sd">    - `click_token (str)`: A randomly generated UUID token for tracking clicks.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="applications.back.email_utils.send_email" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">send_email</span><span class="p">(</span><span class="n">recipient_email</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Send an email with a dynamically inserted body.</p>
<p><strong>Parameters:</strong>
- <code>recipient_email (List[str])</code>: List of recipient email addresses.
- <code>subject (str)</code>: Subject of the email.
- <code>body (str)</code>: The body of the email, including the tracking link.</p>
<p><strong>Behavior:</strong>
- Sends an email using the SMTP server.</p>
<p><strong>Raises:</strong>
- <code>smtplib.SMTPException</code>: If there is an error sending the email.</p>

            <details class="quote">
              <summary>Source code in <code>applications/back/email_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">send_email</span><span class="p">(</span>
    <span class="n">recipient_email</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">subject</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">body</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Send an email with a dynamically inserted body.</span>

<span class="sd">    **Parameters:**</span>
<span class="sd">    - `recipient_email (List[str])`: List of recipient email addresses.</span>
<span class="sd">    - `subject (str)`: Subject of the email.</span>
<span class="sd">    - `body (str)`: The body of the email, including the tracking link.</span>

<span class="sd">    **Behavior:**</span>
<span class="sd">    - Sends an email using the SMTP server.</span>

<span class="sd">    **Raises:**</span>
<span class="sd">    - `smtplib.SMTPException`: If there is an error sending the email.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Set up the email message</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">MIMEMultipart</span><span class="p">()</span>
        <span class="n">msg</span><span class="p">[</span><span class="s1">&#39;From&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SENDER_EMAIL</span>
        <span class="n">msg</span><span class="p">[</span><span class="s1">&#39;To&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">recipient_email</span><span class="p">)</span>
        <span class="n">msg</span><span class="p">[</span><span class="s1">&#39;Subject&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">subject</span>

        <span class="c1"># Add the email body</span>
        <span class="n">msg</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">MIMEText</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="s1">&#39;html&#39;</span><span class="p">))</span>

        <span class="c1"># Using Gmail&#39;s SMTP server with SSL (Port 465)</span>
        <span class="k">with</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP_SSL</span><span class="p">(</span><span class="n">SMTP_SERVER</span><span class="p">,</span> <span class="n">SMTP_PORT</span><span class="p">)</span> <span class="k">as</span> <span class="n">server</span><span class="p">:</span>
            <span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">SENDER_EMAIL</span><span class="p">,</span> <span class="n">SENDER_PASSWORD</span><span class="p">)</span>  <span class="c1"># Use App Password here</span>
            <span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">SENDER_EMAIL</span><span class="p">,</span> <span class="n">recipient_email</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">as_string</span><span class="p">())</span>  <span class="c1"># Send the email</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Email sent to </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">recipient_email</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTPException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error sending email to </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">recipient_email</span><span class="p">)</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">raise</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "navigation.smooth", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>